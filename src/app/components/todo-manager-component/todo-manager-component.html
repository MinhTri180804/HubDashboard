<div cdkDropListGroup>
  <app-card-todo-component
    cardTitle="To Do"
    cdkDropList
    [cdkDropListData]="todoService.todosPending()"
    (cdkDropListDropped)="handleDrop($event)"
    [cdkDropListConnectedTo]="['todo-in-process', 'todo-done']"
    id="todo-pending"
  >
    <mat-icon action-icon fontIcon="restart_alt"></mat-icon>
    <mat-icon action-icon fontIcon="delete"></mat-icon>

    @for(todo of todoService.todosPending(); track $index) {
    <app-todo-item-component
      todo
      cdkDrag
      [todoData]="todo"
    ></app-todo-item-component>
    }
  </app-card-todo-component>

  <app-card-todo-component
    cardTitle="In Process"
    cdkDropList
    [cdkDropListData]="todoService.todosInprogress()"
    (cdkDropListDropped)="handleDrop($event)"
    [cdkDropListConnectedTo]="['todo-pending', 'todo-done']"
    id="todo-in-process"
  >
    <mat-icon action-icon fontIcon="restart_alt"></mat-icon>
    <mat-icon action-icon fontIcon="delete"></mat-icon>

    @for(todo of todoService.todosInprogress(); track $index) {
    <app-todo-item-component
      todo
      cdkDrag
      [todoData]="todo"
    ></app-todo-item-component>
    }
  </app-card-todo-component>

  <app-card-todo-component
    cardTitle="Done"
    cdkDropList
    [cdkDropListData]="todoService.todosDone()"
    (cdkDropListDropped)="handleDrop($event)"
    [cdkDropListConnectedTo]="['todo-pending', 'todo-in-process']"
    id="todo-done"
  >
    <mat-icon action-icon fontIcon="restart_alt"></mat-icon>
    <mat-icon action-icon fontIcon="delete"></mat-icon>

    @for(todo of todoService.todosDone(); track $index) {
    <app-todo-item-component
      todo
      cdkDrag
      [todoData]="todo"
    ></app-todo-item-component>
    }
  </app-card-todo-component>
</div>
